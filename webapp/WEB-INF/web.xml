<web-app xmlns="http://java.sun.com/xml/ns/j2ee" version="2.5">
	<!--
		<filter> <filter-name>guiceFilter</filter-name>
		<filter-class>com.google.inject.servlet.GuiceFilter</filter-class>
		</filter> <filter-mapping> <filter-name>guiceFilter</filter-name>
		<url-pattern>/*</url-pattern> </filter-mapping> <listener>
		<listener-class>com.bizantra.server.servlets.GuiceServletConfig</listener-class>
		</listener>
	-->
	<welcome-file-list>
		<welcome-file>index.html</welcome-file>
	</welcome-file-list>

	<error-page>
		<error-code>404</error-code>
		<location>/pagenotfound.html</location>
	</error-page>

	<error-page>
		<error-code>500</error-code>
		<location>/ex_500.html</location>
	</error-page>


	<!--
		<servlet> <servlet-name>FileDownload</servlet-name> <servlet-class>
		com.isomorphic.servlet.FileDownload</servlet-class> <init-param>
		<param-name>expires</param-name> <param-value>
		text/javascript:2592000,image/gif:2592000,image/png:2592000,application/x-javascript:2592000
		</param-value> </init-param> </servlet> <servlet-mapping>
		<servlet-name>FileDownload</servlet-name> <url-pattern>
		/com.vimukti.collaber.web.CollaberApplication/* </url-pattern>
		</servlet-mapping>
	-->
	<servlet-mapping>
		<servlet-name>bizantra</servlet-name>
		<url-pattern>/accounter</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>bizantra</servlet-name>
		<servlet-class>com.bizantra.server.servlets.PostLoginServlet
		</servlet-class>
	</servlet>

	<servlet-mapping>
		<servlet-name>localLogin</servlet-name>
		<url-pattern>/site/localLogin</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>localLogin</servlet-name>
		<servlet-class>com.bizantra.server.servlets.LocalLoginServlet
		</servlet-class>
	</servlet>

	<servlet-mapping>
		<servlet-name>webLogin</servlet-name>
		<url-pattern>/site/login</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>webLogin</servlet-name>
		<servlet-class>com.bizantra.server.servlets.LiveLoginServlet
		</servlet-class>
	</servlet>

	<servlet-mapping>
		<servlet-name>signup</servlet-name>
		<url-pattern>/site/signup</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>signup</servlet-name>
		<servlet-class>com.bizantra.server.servlets.CreateCompanyServlet
		</servlet-class>
	</servlet>

	<servlet-mapping>
		<servlet-name>support</servlet-name>
		<url-pattern>/site/support</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>support</servlet-name>
		<servlet-class>com.bizantra.server.servlets.SupportServlet
		</servlet-class>
	</servlet>

	<servlet-mapping>
		<servlet-name>importAccount</servlet-name>
		<url-pattern>/import</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>importAccount</servlet-name>
		<servlet-class>com.bizantra.server.servlets.ImportAccountServlet
		</servlet-class>
	</servlet>

	<servlet>
		<servlet-name>ibizantraImpl</servlet-name>
		<servlet-class>com.bizantra.server.services.UserManagmentServiceImpl
		</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>generatePDFServlet</servlet-name>
		<servlet-class>com.bizantra.server.servlets.GeneratePDFservlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>generatePDFServlet</servlet-name>
		<url-pattern>/do/finance/generatePDFServlet</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>ExportReportServlet</servlet-name>
		<servlet-class>com.bizantra.server.servlets.ExportReportServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>ExportReportServlet</servlet-name>
		<url-pattern>/do/finance/ExportReportServlet</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>Suffixservlet</servlet-name>
		<servlet-class>com.bizantra.server.servlets.Suffixservlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>Suffixservlet</servlet-name>
		<url-pattern>/site/*</url-pattern>
	</servlet-mapping>


	<servlet>
		<servlet-name>help</servlet-name>
		<servlet-class>com.bizantra.server.core.HelpServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>help</servlet-name>
		<url-pattern>/do/help</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>forgetpassword</servlet-name>
		<url-pattern>/site/forgotpassword</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>forgetpassword</servlet-name>
		<servlet-class>com.bizantra.server.servlets.ForgetPasswordServlet
		</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>resetPassword</servlet-name>
		<servlet-class>com.bizantra.server.servlets.ResetPasswordServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>resetPassword</servlet-name>
		<url-pattern>/site/resetpassword</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>Logout</servlet-name>
		<servlet-class>com.bizantra.server.servlets.LogoutServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>Logout</servlet-name>
		<url-pattern>/do/logout
		</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ibizantraImpl</servlet-name>
		<url-pattern>/do/bizantra/GWTRPC</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>identity</servlet-name>
		<servlet-class>com.bizantra.server.services.IdentityServiceImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>identity</servlet-name>
		<url-pattern>/do/bizantra/identity
		</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>Workspaces</servlet-name>
		<servlet-class>com.bizantra.server.services.WorkspaceServiceImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>Workspaces</servlet-name>
		<url-pattern>/do/bizantra/workspaces
		</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-class>com.vimukti.comet.server.CometServerServlet
		</servlet-class>
		<servlet-name>CometServerServlet
		</servlet-name>
		<init-param>
			<param-name>maximum-bytes-written</param-name>
			<param-value>5120</param-value>
		</init-param>
		<init-param>
			<param-name>connection-timeout</param-name>
			<param-value>19000</param-value>
		</init-param>
	</servlet>
	<servlet-mapping>
		<servlet-name>CometServerServlet
		</servlet-name>
		<url-pattern>/do.comet/xhrinteractive
		</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>CometServerServlet
		</servlet-name>
		<url-pattern>/do.comet/smartpoll</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>CometServerServlet
		</servlet-name>
		<url-pattern>/do.comet/longpoll</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>CometServerServlet
		</servlet-name>
		<url-pattern>/do.comet/iframe</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>CometServerServlet
		</servlet-name>
		<url-pattern>/do.comet/simplepoll</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>iAccounterImpl</servlet-name>
		<servlet-class>
			com.vimukti.accounter.web.server.AccounterCRUDServiceImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>iAccounterImpl</servlet-name>
		<url-pattern>/do/accounter/crud/rpc/service </url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>iAccounterGetImpl</servlet-name>
		<servlet-class>
			com.vimukti.accounter.web.server.AccounterGETServiceImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>iAccounterGetImpl</servlet-name>
		<url-pattern>/do/accounter/get/rpc/service </url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>iAccounterHomeViewImpl
		</servlet-name>
		<servlet-class>
			com.vimukti.accounter.web.server.AccounterHomeViewImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>iAccounterHomeViewImpl </servlet-name>
		<url-pattern>/do/accounter/home/rpc/service </url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>iAccounterReportImpl</servlet-name>
		<servlet-class>
			com.vimukti.accounter.web.server.AccounterReportServiceImpl
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>iAccounterReportImpl</servlet-name>
		<url-pattern>/do/accounter/report/rpc/service </url-pattern>
	</servlet-mapping>

	<!--	<servlet>-->
	<!--		<servlet-name>createcompany</servlet-name>-->
	<!--
		<servlet-class>com.bizantra.server.servlets.CreateCompanyServlet
	-->
	<!--		</servlet-class>-->
	<!--	</servlet>-->
	<!--	<servlet-mapping>-->
	<!--		<servlet-name>createcompany</servlet-name>-->
	<!--		<url-pattern>/createcompany</url-pattern>-->
	<!--	</servlet-mapping>-->

	<servlet>
		<servlet-name>companyAuthentication</servlet-name>
		<servlet-class>com.bizantra.server.servlets.AuthenticationServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>companyAuthentication</servlet-name>
		<url-pattern>/companyAuthentication</url-pattern>
	</servlet-mapping>


	<!--	<servlet>-->
<!---->
	<!--		<servlet-name>login</servlet-name>-->
	<!--		<servlet-class>com.bizantra.server.servlets.LoginServlet-->
	<!--		</servlet-class>-->
	<!--	</servlet>-->
	<!--	<servlet-mapping>-->
	<!--		<servlet-name>login</servlet-name>-->
	<!--		<url-pattern>/login</url-pattern>-->
	<!--	</servlet-mapping>-->


	<!-- SUBSCRIPTION MANAGEMENT -->

	<servlet>
		<servlet-name>subscriptioncreatecompany</servlet-name>
		<servlet-class>com.bizantra.server.servlets.SubscriptionCreateCompanyServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>subscriptioncreatecompany</servlet-name>
		<url-pattern>/subscriptioncreatecompany</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>subscriptionUpdatecompany</servlet-name>
		<servlet-class>com.bizantra.server.servlets.SubscriptionUpdateCompanyServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>subscriptionUpdatecompany</servlet-name>
		<url-pattern>/subscriptionUpdatecompany</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>subscriptionAuthentication</servlet-name>
		<servlet-class>com.bizantra.server.servlets.SubscriptionAuthenticationServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>subscriptionAuthentication</servlet-name>
		<url-pattern>/subscriptionAuthentication</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>subscriptionResetPassword</servlet-name>
		<servlet-class>com.bizantra.server.servlets.SubscriptionResetPasswordServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>subscriptionResetPassword</servlet-name>
		<url-pattern>/subscriptionResetPassword</url-pattern>
	</servlet-mapping>


	<servlet>
		<servlet-name>bizantraUserStatistics</servlet-name>
		<servlet-class>com.bizantra.server.servlets.BizantraCompaniesStatisticsServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>bizantraUserStatistics</servlet-name>
		<url-pattern>/bizantraUserStatistics</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>importIdentity</servlet-name>
		<servlet-class>com.bizantra.server.servlets.ImportServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>importIdentity</servlet-name>
		<url-pattern>/importidentity</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>lockordeleteuser</servlet-name>
		<servlet-class>com.bizantra.server.servlets.LockOrDeleteUser
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>lockordeleteuser</servlet-name>
		<url-pattern>/lockOrDeleteUser</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>templatereset</servlet-name>
		<servlet-class>com.bizantra.server.servlets.TemplateResetServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>templatereset</servlet-name>
		<url-pattern>/templatereset</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>deletecompany</servlet-name>
		<servlet-class>com.bizantra.server.servlets.DeleteCompanyServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>deletecompany</servlet-name>
		<url-pattern>/deletecompany</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>uploadFile</servlet-name>
		<servlet-class>com.bizantra.server.servlets.UploadAttachmentServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>uploadFile</servlet-name>
		<url-pattern>/do/uploadfile</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>downloadFileFromFile</servlet-name>
		<servlet-class>com.bizantra.server.servlets.DownloadFileServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>downloadFileFromFile</servlet-name>
		<url-pattern>/do/downloadFileFromFile</url-pattern>
	</servlet-mapping>



	<filter>
		<filter-name>GzipFilter</filter-name>
		<filter-class>com.accounter.server.utils.GzipFilter</filter-class>
		<init-param>
			<param-name>mimeTypes</param-name>
			<param-value>text/plain,text/xml,application/xhtml+xml,text/css,application/javascript,image/svg+xml
			</param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>GzipFilter</filter-name>
		<url-pattern>*</url-pattern>
		<!-- NEED TO ADD MORE PATTERNS [EXCEPT COMET] -->
	</filter-mapping>


	<filter>
		<filter-name>gwtCacheControlFilter</filter-name>
		<filter-class>com.bizantra.server.servlets.GWTCacheControlFilter
		</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>gwtCacheControlFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>

	<listener>
		<listener-class>com.bizantra.server.main.BizantraSessionListner
		</listener-class>
	</listener>

	<servlet>
		<servlet-name>OpenIdServlet</servlet-name>
		<servlet-class>com.bizantra.server.servlets.OpenIdServlet
		</servlet-class>
		<init-param>
			<param-name>realm</param-name>
			<param-value>https://www.accounterlive.com/</param-value>
		</init-param>
		<init-param>
			<param-name>return_to_path</param-name>
			<param-value>/openid</param-value>
		</init-param>
		<init-param>
			<param-name>home_path</param-name>
			<param-value>/site/accounterlogin</param-value>
		</init-param>
	</servlet>

	<servlet-mapping>
		<servlet-name>OpenIdServlet</servlet-name>
		<url-pattern>/openid</url-pattern>
	</servlet-mapping>

	<servlet>
		<servlet-name>accounterlogin</servlet-name>
		<servlet-class>com.bizantra.server.servlets.AccounterLoginServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>accounterlogin</servlet-name>
		<url-pattern>/site/accounterlogin</url-pattern>
	</servlet-mapping>

	<context-param>
		<param-name>version</param-name>
		<param-value>1.0.0.2</param-value>
	</context-param>

</web-app>