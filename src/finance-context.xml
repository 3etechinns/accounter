<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jee="http://www.springframework.org/schema/jee"
	xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">
	<bean id="propertyConfigurer"
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location">
			<value>jdbc.properties</value>
		</property>
	</bean>

	<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"
		destroy-method="close">
		<property name="driverClass">
			<value>${db.driverClass}</value>
		</property>
		<property name="jdbcUrl">
			<value>${db.jdbcUrl}</value>
		</property>
		<property name="user">
			<value>${db.user}</value>
		</property>
		<property name="password">
			<value>${db.password}</value>
		</property>
		<!-- try out -->
		<property name="initialPoolSize">
			<value>20</value>
		</property>
		<!--
			<property name="maxStatementsPerConnection" value="200" /> <property
			name="maxStatements" value="0" /> <property name="maxPoolSize"
			value="200" />
		-->
	</bean>



	<!-- Database -->
	<bean id="sessionFactory"
		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="mappingResources">
			<list>
			<value>finance-mapping.xml</value>
			<value>finance-transactions.xml</value>
	 		<value>finance-query.xml</value>
			<value>finance-reports.xml</value> 
			<value>finance-views.xml</value>
		 <!--  <value>triggers.xml</value> -->
	<!-- ///////////////////////////////////////////////////////////////////////////// -->
			
			<!-- Mappings for MySQL Triggers -->
			<!--
			<value>./com/vimukti/accounter/mysql/trigger/trigger_account.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_cashpurchase.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_cashsale.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_creditcardcharge.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_customer.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_customercreditmemo.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_customerrefund.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_enterbill.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_entry.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_fiscalyear.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_invoice.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_makedeposit.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_paybill.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_receivepayment.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactioncreditsandpayments.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactionissuepayment.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactionitem.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactionmakedeposit.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactionpaybill.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transactionreceivepayment.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_transferfund.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_vendor.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_vendorcreditmemo.xml</value>
			<value>./com/vimukti/accounter/mysql/trigger/trigger_writecheck.xml</value>
				
			-->
			
			
			
			
			</list>
			
			
		</property>


		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.dialect">
					${hibernate.dialect}
				</prop>
				<prop key="hibernate.show_sql">true</prop>
				<prop key="hibernate.generate_statistics">false</prop>
				<!--  create-drop  or  update  -->
				<prop key="hibernate.hbm2ddl.auto">${db.createOrUpdate}</prop>
				<prop key="hibernate.format_sql">true</prop>
			</props>
		</property>
		<property name="dataSource">
			<ref bean="dataSource" />
		</property>
	</bean>
	<bean name="hibernateTemplate" class="org.springframework.orm.hibernate3.HibernateTemplate">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>

	<bean name="accounterDao" class="com.vimukti.accounter.services.AccounterDAOService">
		<property name="hibernateTemplate" ref="hibernateTemplate"></property>
		<property name="transactionTemplate" ref="transactionTemplate"></property>
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>

	<bean name="accounterGUIDao" class="com.vimukti.accounter.services.AccounterGUIDAOService">
		<property name="hibernateTemplate" ref="hibernateTemplate"></property>
		<property name="transactionTemplate" ref="transactionTemplate"></property>
		<property name="sessionFactory" ref="sessionFactory"></property>
		<property name="accounterDao" ref="accounterDao"></property>
	</bean>
	<bean name="accounter" class="com.vimukti.accounter.services.AccounterService">
		<property name="hibernateTemplate" ref="hibernateTemplate"></property>
		<property name="transactionTemplate" ref="transactionTemplate"></property>
		<property name="sessionFactory" ref="sessionFactory"></property>
		<property name="accounterDao" ref="accounterDao"></property>
		<property name="accounterGUIDao" ref="accounterGUIDao"></property>
	</bean>

	<bean name="accounterReportDao"
		class="com.vimukti.accounter.services.AccounterReportDAOService">
		<property name="hibernateTemplate" ref="hibernateTemplate"></property>
		<property name="transactionTemplate" ref="transactionTemplate"></property>
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	


	<bean name="transactionManager"
		class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
	<bean name="transactionTemplate"
		class="org.springframework.transaction.support.TransactionTemplate">
		<property name="transactionManager" ref="transactionManager"></property>
	</bean>

</beans>


