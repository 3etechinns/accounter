<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.bizantra.server.ext">
	<class name="CompanyInfoCommand" table="COMPANYINFOCOMMAND">
		<id name="id" access="property" column="ID">
			<generator class="native" />
		</id>
		<property name="companyId" column="COMPANY_ID">
		</property>
		<property name="companyName" column="COMPANY_NAME">
		</property>
		<property name="version" index="COMMAND_DATA_VERISON_INDEX"
			not-null="true" column="VERSION" unique-key="MEMBER_VERSION">
		</property>
		<many-to-one name="command" column="COMMAND"
			class="com.bizantra.server.ext.Command" cascade="all,save-update,delete"
			lazy="false">
		</many-to-one>
		<property name="device" column="DEVICE" index="COMMAND_DATA_DEVICE_INDEX"
			not-null="true" unique-key="MEMBER_VERSION" />
	</class>
	
	<query name="get.company.command.data">
	<query-param name="device" type="int"/>
	<query-param name="version" type="int"/>
	From CompanyInfoCommand c where (c.device = :device and c.version = :version) 
	</query>
</hibernate-mapping>