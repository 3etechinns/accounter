<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
                "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.vimukti.accounter.core"
	default-access="field" auto-import="false">
	
	<class name="Employee" table="EMPLOYEE">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company">
		</many-to-one>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		<many-to-one name="payStructure" column="PAY_STRUCTURE" class="PayStructure"/>
		<property name="name" column="NAME"/>
		<property name="number" column="NUMBER"/>
		<many-to-one name="group" column="EMPLOYEE_GROUP" class="EmployeeGroup"/>
		<many-to-one name="category" column="CATEGORY" class="EmployeeCategory"/>
		<property name="dateofJoining" column="DATE_OF_JOINING" type="com.vimukti.accounter.core.LongUseType"/>
		<property name="gender" column="GENDER"/>
		<property name="contactNumber" column="CONTACT_NUMBER"/>
		<property name="email" column="EMAIL"/>
		<property name="bankName" column="BANK_NAME"/>
		<property name="bankAccountNumber" column="BANK_ACCOUNT_NUMBER"/>
		<property name="branch" column="BANK_BRANCH"/>
		<property name="passportNumber" column="PASSPORT_NUMBER"/>
		<property name="countryOfIssue" column="COUNTRY_OF_ISSUE"/>
		<property name="passportExpiryDate" column="PASSPORT_EXPIRY_DATE" type="com.vimukti.accounter.core.LongUseType"/>
		<property name="visaNumber" column="VISA_NUMBER"/>
		<property name="visaExpiryDate" column="VISA_EXPIRY_DATE"/>
		<property name="name" column="NAME"/>
		<property name="name" column="NAME"/>
		
		<component name="address" class="Address">
			<property name="type" column="ADDRESS_TYPE"/>
			<property name="address1" column="ADDRESS_ADDRESS1"/>
			<property name="street" column="ADDRESS_STREET"/>
			<property name="city" column="ADDRESS_CITY"/>
			<property name="stateOrProvinence" column="ADDRESS_STATE"/>
			<property name="zipOrPostalCode" column="ADDRESS_ZIP"/>
			<property name="countryOrRegion" column="ADDRESS_COUNTRY"/>
			<property name="isSelected" column="ADDRESS_IS_SELECTED"/>
		</component>
		
		<composite  name="contact"  class="Contact">
				<property name="isPrimary" column="IS_PRIMARY" not-null="true"/>
				<property name="name" column="NAME" not-null="true" length="100"/>
				<property name="title" column="TITLE" not-null="true"
					length="100"/>
				<property name="businessPhone" column="BUSINESS_PHONE"
					not-null="true" length="100"/>
				<property name="email" column="EMAIL" not-null="true"/>
		</composite>
		
	</class>
	
	<class name="EmployeeGroup" table="EMPLOYEE_GROUP">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company">
		</many-to-one>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		<property name="name" column="NAME"/>	
		<many-to-one name="payStructure" column="PAY_STRUCTURE" class="PayStructure"/>
		<list name="employees">
			<key column="EMPLOYEE_GROUP"/>
			<list-index column="IDX"/>
			<one-to-many class="Employee"/>
		</list>
		
	</class>
	
	<class name="PayrollUnit" table="PAY_ROLL_UNIT">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company">
		</many-to-one>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		
		<property name="symbol" column="SYMBOL"/>
		<property name="formalname" column="FORMAL_NAME"/>
		<property name="noofDecimalPlaces" column="NO_OF_DECIMAL_PLACES"/>
		
	</class>
	
	<class name="PayStructure" table="PAY_STRUCTURE">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company">
		</many-to-one>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		
		<many-to-one name="employee" column="EMPLOYEE_ID" class="Employee"/>
		<many-to-one name="employeeGroup" column="EMPLOYEE_GROUP_ID" class="EmployeeGroup"/>
		<property name="effectiveFrom" column="EFFECTIVE_FROM" type="com.vimukti.accounter.core.LongUseType"/>
		<list name="items" cascade="save-update,delete">
			<key column="PAY_STRUCTURE"/>
			<list-index column="IDX"/>
			<one-to-many class="PayStructureItem"/>
		</list>
		
	</class>
	
	<class name="PayStructureItem" table="PAY_STRUCTURE_ITEM">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company"/>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		<many-to-one name="PayStructure" column="PAY_HEAD" class="PayHead"/>
		<many-to-one name="payHead" column="PAY_HEAD" class="PayHead"/>
	</class>
	
	<class name="PayHead" table="PAY_HEAD">
		<id name="id" column="ID">
			<generator class="identity" />
		</id>
		<many-to-one name="company" column="COMPANY_ID" class="Company">
		</many-to-one>
		<many-to-one name="createdBy" column="CREATED_BY" class="User"
			not-null="true"></many-to-one>
		<many-to-one name="lastModifier" column="LAST_MODIFIER"
			class="User" not-null="true"></many-to-one>
		<property name="createdDate" column="CREATED_DATE" not-null="true" />
		<property name="lastModifiedDate" column="LAST_MODIFIED_DATE"
			not-null="true" />
		
	</class>
	
	
	
</hibernate-mapping>