<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
                "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.vimukti.accounter.core"
	default-access="field" auto-import="false">

	<query name="get.All.InventoryItem">
		<query-param name="companyId" type="long"/>
		from com.vimukti.accounter.core.Item it where it.company.id=:companyId and it.type=2
	</query>

	<sql-query name="getNextAccountNumber">
		<query-param name="companyId" type="long" />
		<query-param name="subbaseType" type="int" />
		<return-scalar column="A_NUMBER" type="encryptedstring" />
		SELECT A_NUMBER FROM ACCOUNT A 
		WHERE SUB_BASE_TYPE=:subbaseType AND A.COMPANY_ID=:companyId
	
	</sql-query> 
	
	<query name="get.AssetsAccountOfCompany">
		<query-param name="companyId" type="long"/>
		from com.vimukti.accounter.core.Account a where a.company.id=:companyId and a.type=5
	</query>
	
	<query name="get.Account.by.Name">
		<query-param name="companyId" type="long"/>
		<query-param name="accountName" type="String"/>
		from com.vimukti.accounter.core.Account a where a.name=:accountName and a.company.id=:companyId
	</query>
	
	<query name="getAccountTransactions">
		<query-param name="companyId" type="long"/>
		<query-param name="accountId" type="long"/>
		from com.vimukti.accounter.core.AccountTransaction at where at.account.id=:accountId and at.company.id=:companyId
	</query>
	
	
</hibernate-mapping>